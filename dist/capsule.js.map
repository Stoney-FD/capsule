{"version":3,"sources":["src/behavior.js","src/index.js","src/localization.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dist/capsule.js","sourcesContent":["define('capsule/behavior', function() {\r\n\r\n  var Behavior = function(target, descriptor) {\r\n    this.target = target;\r\n    this.name = 'undefined-behavior';\r\n\r\n    descriptor.call(this);\r\n  };\r\n\r\n\r\n  Behavior.list = {};\r\n\r\n  Behavior.add = function(name, descriptor) {\r\n    Behavior.list[name] = function(target) {\r\n      var behavior = new Behavior(target, descriptor);\r\n      behavior.name = name;\r\n\r\n      return behavior;\r\n    };\r\n  };\r\n\r\n  Behavior.call = function(name, target) {\r\n    Behavior.list[name](target);\r\n  };\r\n\r\n  Behavior.remove = function(name) {\r\n    Behavior.list[name] = undefined;\r\n  };\r\n\r\n  return Behavior;\r\n\r\n});","define('capsule', ['require'], function(require) {\n  var $ = require('jquery');\n  var EventMap = require('eventmap');\n  var Behavior = require('capsule/behavior');\n  var Localization = require('capsule/localization');\n\n  var Capsule = function(target, factory) {\n    EventMap.mixin(this, Capsule);\n\n    this.$target = (target instanceof $) ? target : $(target);\n    this.factory = factory;\n\n    this.defaultEvent = Capsule.defaultEvent;\n\n    this.localization = new Localization();\n\n    this.id = 'capsule-' + Date.now();\n\n    this.template = '';\n    this.style = '';\n  };\n\n  Capsule.prototype.bindEvents = function(obj) {\n    Object.keys(obj).forEach(function(name) {\n      var eventName = name.split(' ')[0];\n      var eventDelegate = name.split(' ')[1];\n      var event = obj[name];\n\n      $target.on(eventName, eventDelegate, event);\n    }, this);\n  };\n\n  Capsule.prototype.addBehavior = function(name) {\n    $('[data-behavior=' + name + ']', this.$target).each(function(t) {\n      var $t = $(t);\n      Behavior.call(name, $t);\n    });\n  };\n\n  Capsule.prototype.execute = function(args) {\n    this.factory.apply(this, args);\n\n    // Inject style\n    var completeStyle = '<style id=\"' + this.id + '\">' + $target.selector + '{ ' + this.style + ' } </style>';\n\n    $('head').append(completeStyle);\n  };\n\n  Capsule.prototype.t = function(name) {\n\n  };\n\n  Capsule.EventPool = new EventMap();\n\n  Capsule.TemplateConnector = null;\n\n  Capsule.defaultEvent = 'click';\n\n  return Capsule;\n\n});\n","define('capsule/localization', function() {\n  var Localization = function(data) {\n    this.data = data || {};\n    this.language = Localization.defaultLanguage;\n  };\n\n  Localization.defaultLanguage = 'en';\n\n  return Localization;\n});\n"]}