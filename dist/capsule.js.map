{"version":3,"sources":["src/behavior.js","src/index.js","src/localization.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dist/capsule.js","sourcesContent":["define('capsule/behavior', function() {\r\n\r\n  var Behavior = function(target, descriptor) {\r\n    this.target = target;\r\n    this.name = 'undefined-behavior';\r\n\r\n    descriptor.call(this);\r\n  };\r\n\r\n\r\n  Behavior.list = {};\r\n\r\n  Behavior.add = function(name, descriptor) {\r\n    Behavior.list[name] = function(target) {\r\n      var behavior = new Behavior(target, descriptor);\r\n      behavior.name = name;\r\n\r\n      return behavior;\r\n    };\r\n  };\r\n\r\n  Behavior.call = function(name, target) {\r\n    Behavior.list[name](target);\r\n  };\r\n\r\n  Behavior.remove = function(name) {\r\n    Behavior.list[name] = undefined;\r\n  };\r\n\r\n  return Behavior;\r\n\r\n});","define('capsule', ['jquery', 'eventmap', 'capsule/behavior'], function($, EventMap, Behavior) {\r\n\r\n  var Capsule = function(target, factory) {\r\n    EventMap.mixin(this, Capsule);\r\n\r\n    this.$target = (target instanceof $) ? target : $(target);\r\n    this.factory = factory;\r\n\r\n    this.defaultEvent = Capsule.defaultEvent;\r\n\r\n    this.localization = new Localization();\r\n\r\n    this.id = 'capsule-' + Date.now();\r\n\r\n    this.template = '';\r\n    this.style = '';\r\n  };\r\n\r\n  Capsule.prototype.bindEvents = function(obj) {\r\n    Object.keys(obj).forEach(function(name) {\r\n      var eventName = name.split(' ')[0];\r\n      var eventDelegate = name.split(' ')[1];\r\n      var event = obj[name];\r\n\r\n      $target.on(eventName, eventDelegate, event);\r\n    }, this);\r\n  };\r\n\r\n  Capsule.prototype.addBehavior = function(name) {\r\n    $('[data-behavior=' + name + ']', this.$target).each(function(t) {\r\n      var $t = $(t);\r\n      Behavior.call(name, $t);\r\n    });\r\n  };\r\n\r\n  Capsule.prototype.execute = function(args) {\r\n    this.factory.apply(this, args);\r\n\r\n    // Inject style\r\n    var completeStyle = '<style id=\"' + this.id + '\">' + $target.selector + '{ ' + this.style + ' } </style>';\r\n\r\n    $('head').append(completeStyle);\r\n  };\r\n\r\n  Capsule.prototype.t = function(name) {\r\n\r\n  };\r\n\r\n  Capsule.EventPool = new EventMap();\r\n\r\n  Capsule.TemplateConnector = null;\r\n\r\n  Capsule.defaultEvent = 'click';\r\n\r\n  return Capsule;\r\n\r\n});","define('capsule/localization', function() {\r\n  var Localization = function(data) {\r\n    this.data = data || {};\r\n    this.language = Localization.defaultLanguage;\r\n  };\r\n\r\n  Localization.defaultLanguage = 'en';\r\n});"]}